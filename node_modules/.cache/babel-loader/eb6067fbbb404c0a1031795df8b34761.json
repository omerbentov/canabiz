{"ast":null,"code":"import _regeneratorRuntime from \"C:\\\\Users\\\\\\u05E2\\u05D5\\u05DE\\u05E8\\\\Desktop\\\\Extra\\\\React\\\\canabiz\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"C:\\\\Users\\\\\\u05E2\\u05D5\\u05DE\\u05E8\\\\Desktop\\\\Extra\\\\React\\\\canabiz\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport axios from \"axios\";\nvar apiURL = \"http://localhost:3000\";\nvar apiEndPoint = \"/auth\";\nexport function login(_x, _x2) {\n  return _login.apply(this, arguments);\n}\n\nfunction _login() {\n  _login = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(email, password) {\n    var _yield$axios$post, jwt;\n\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            console.log(email, password);\n            _context.next = 3;\n            return axios.post(apiURL + apiEndPoint, {\n              email,\n              password\n            });\n\n          case 3:\n            _yield$axios$post = _context.sent;\n            jwt = _yield$axios$post.data;\n\n            if (!jwt) {\n              _context.next = 11;\n              break;\n            }\n\n            alert(\"Logged in...\");\n            localStorage.setItem(\"token\", jwt);\n            return _context.abrupt(\"return\", true);\n\n          case 11:\n            return _context.abrupt(\"return\", false);\n\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _login.apply(this, arguments);\n}","map":{"version":3,"sources":["C:/Users/עומר/Desktop/Extra/React/canabiz/src/services/autoService.js"],"names":["axios","apiURL","apiEndPoint","login","email","password","console","log","post","jwt","data","alert","localStorage","setItem"],"mappings":";;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,IAAMC,MAAM,GAAG,uBAAf;AACA,IAAMC,WAAW,GAAG,OAApB;AAEA,gBAAsBC,KAAtB;AAAA;AAAA;;;oEAAO,iBAAqBC,KAArB,EAA4BC,QAA5B;AAAA;;AAAA;AAAA;AAAA;AAAA;AACLC,YAAAA,OAAO,CAACC,GAAR,CAAYH,KAAZ,EAAmBC,QAAnB;AADK;AAAA,mBAEuBL,KAAK,CAACQ,IAAN,CAAWP,MAAM,GAAGC,WAApB,EAAiC;AAC3DE,cAAAA,KAD2D;AAE3DC,cAAAA;AAF2D,aAAjC,CAFvB;;AAAA;AAAA;AAESI,YAAAA,GAFT,qBAEGC,IAFH;;AAAA,iBAMDD,GANC;AAAA;AAAA;AAAA;;AAOHE,YAAAA,KAAK,CAAC,cAAD,CAAL;AACAC,YAAAA,YAAY,CAACC,OAAb,CAAqB,OAArB,EAA8BJ,GAA9B;AARG,6CASI,IATJ;;AAAA;AAAA,6CAWI,KAXJ;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["import axios from \"axios\";\r\nconst apiURL = \"http://localhost:3000\";\r\nconst apiEndPoint = \"/auth\";\r\n\r\nexport async function login(email, password) {\r\n  console.log(email, password);\r\n  const { data: jwt } = await axios.post(apiURL + apiEndPoint, {\r\n    email,\r\n    password,\r\n  });\r\n  if (jwt) {\r\n    alert(\"Logged in...\");\r\n    localStorage.setItem(\"token\", jwt);\r\n    return true;\r\n  } else {\r\n    return false;\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}